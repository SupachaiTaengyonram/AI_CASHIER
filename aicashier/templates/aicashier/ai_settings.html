{% extends 'aicashier/base.html' %}
{% load static %}

{% block content %}
<style>
    .voice-textarea {
        background-color: #393a5a !important;
        color: #fff !important;
        border-radius: 6px !important;
        padding: 8px 12px !important;
        border: 1.5px solid #b16cff !important;
        font-family: 'Courier New', monospace;
        font-size: 14px;
    }
    
    .voice-textarea:focus {
        border-color: #7c3aed !important;
        box-shadow: 0 0 0 3px rgba(177, 108, 255, 0.1) !important;
    }
</style>
<div class="flex items-center gap-4 text-sm">
            <a href="{% url 'home' %}" class="text-gray-300 hover:text-white font-medium transition">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
            <a href="{% url 'overviews' %}" class="text-gray-300 hover:text-white font-medium transition">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</a>
            <a href="{% url 'product_manage' %}" class="text-gray-300 hover:text-white font-medium transition">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a>
            <a href="{% url 'ai_settings' %}" class="text-gray-300 hover:text-white font-medium transition">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏≠‡πÑ‡∏≠</a>
</div>
<div class="min-h-screen bg-[#23243a] font-kanit py-8 px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="mb-8">
        <h1 class="text-4xl font-bold text-[#b16cff] mb-2">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏≠‡πÑ‡∏≠</h1>
        <p class="text-[#8b8ba8]">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏≠‡πÑ‡∏≠</p>
    </div>


    <!-- AI Status Toggle Button -->
    <div class="bg-[#3a3d5c] rounded-lg p-6 border border-[#b16cff]/20 mb-8">
        <div class="flex justify-between items-center">
            <div>
                <h3 class="text-white font-semibold text-lg mb-2">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏≠‡πÑ‡∏≠</h3>
                <p class="text-[#8b8ba8] text-sm">
                    {% if object.is_active %}
                        <span class="text-green-400">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</span>
                    {% else %}
                        <span class="text-red-400">‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
                    {% endif %}
                </p>
            </div>
            <button type="button" class="px-6 py-2 rounded-md bg-purple-600 hover:bg-purple-700 text-white font-medium transition" 
                    onclick="document.getElementById('toggleAIModal').classList.remove('hidden')">
                {% if object.is_active %}
                    ‡∏õ‡∏¥‡∏î AI
                {% else %}
                    ‡πÄ‡∏õ‡∏¥‡∏î AI
                {% endif %}
            </button>
        </div>
    </div>

    <!-- AI Settings Form -->
    <form method="post" class="space-y-6">
        {% csrf_token %}
        
        <!-- Greeting Message -->
        <div class="bg-[#3a3d5c] rounded-lg p-6 border border-[#b16cff]/20">
            <h3 class="text-white font-semibold text-lg mb-4">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏£‡∏Å</h3>
            <div class="form-group">
                <label class="text-[#b16cff] font-medium mb-2 block">{{ form.greeting_message.label }}</label>
                {{ form.greeting_message }}
                <p class="text-[#8b8ba8] text-xs mt-2">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà ‡πÄ‡∏≠‡πÑ‡∏≠ ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</p>
            </div>
        </div>

        <!-- Promotion Text -->
        <div class="bg-[#3a3d5c] rounded-lg p-6 border border-[#b16cff]/20">
            <h3 class="text-white font-semibold text-lg mb-4">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</h3>
            <div class="form-group">
                <label class="text-[#b16cff] font-medium mb-2 block">{{ form.promotion_text.label }}</label>
                {{ form.promotion_text }}
                <p class="text-[#8b8ba8] text-xs mt-2">‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏µ‡πà ‡πÄ‡∏≠‡πÑ‡∏≠ ‡∏à‡∏∞‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</p>
            </div>
        </div>

        <!-- Sales Steps -->
        <div class="bg-[#3a3d5c] rounded-lg p-6 border border-[#b16cff]/20">
            <h3 class="text-white font-semibold text-lg mb-4">‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</h3>
            <div class="form-group">
                <label class="text-[#b16cff] font-medium mb-2 block">{{ form.sales_steps.label }}</label>
                {{ form.sales_steps }}
                <p class="text-[#8b8ba8] text-xs mt-2">‡∏£‡∏∞‡∏ö‡∏∏‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà</p>
            </div>
        </div>

        <!-- Voice Commands for Managing Cart -->
        <div class="bg-[#3a3d5c] rounded-lg p-6 border border-[#b16cff]/20">
            <h3 class="text-white font-semibold text-lg mb-4">‚öôÔ∏è ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</h3>
            
            <!-- Add Command Section -->
            <div class="mb-6 p-4 bg-[#2a2c45] rounded border-l-4 border-green-500">
                <div class="flex items-center gap-2 mb-3">
                    <span class="inline-block w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold text-sm">+</span>
                    <label class="text-green-400 font-semibold">{{ form.voice_commands_add.label }}</label>
                </div>
                {{ form.voice_commands_add }}
                <p class="text-[#8b8ba8] text-xs mt-2">
                    ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö <span class="text-green-400 font-semibold">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span> ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏≥‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ | ‡πÄ‡∏ä‡πà‡∏ô: ‡πÄ‡∏û‡∏¥‡πà‡∏°|add|‡πÉ‡∏™‡πà|put|‡∏™‡∏±‡πà‡∏á|order|‡∏ã‡∏∑‡πâ‡∏≠|buy
                </p>
            </div>

            <!-- Decrease Command Section -->
            <div class="mb-6 p-4 bg-[#2a2c45] rounded border-l-4 border-yellow-500">
                <div class="flex items-center gap-2 mb-3">
                    <span class="inline-block w-8 h-8 bg-yellow-500 text-white rounded-full flex items-center justify-center font-bold text-sm">‚àí</span>
                    <label class="text-yellow-400 font-semibold">{{ form.voice_commands_decrease.label }}</label>
                </div>
                {{ form.voice_commands_decrease }}
                <p class="text-[#8b8ba8] text-xs mt-2">
                    ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö <span class="text-yellow-400 font-semibold">‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span> ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏≥‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ | ‡πÄ‡∏ä‡πà‡∏ô: ‡∏•‡∏î|decrease|‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô|reduce|‡∏•‡∏î‡∏•‡∏á|down
                </p>
            </div>

            <!-- Delete Command Section -->
            <div class="mb-4 p-4 bg-[#2a2c45] rounded border-l-4 border-red-500">
                <div class="flex items-center gap-2 mb-3">
                    <span class="inline-block w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center font-bold text-sm">‚úï</span>
                    <label class="text-red-400 font-semibold">{{ form.voice_commands_delete.label }}</label>
                </div>
                {{ form.voice_commands_delete }}
                <p class="text-[#8b8ba8] text-xs mt-2">
                    ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö <span class="text-red-400 font-semibold">‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span> ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏≥‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ | ‡πÄ‡∏ä‡πà‡∏ô: ‡∏•‡∏ö|delete|‡πÄ‡∏≠‡∏≤‡∏≠‡∏≠‡∏Å|remove|‡∏´‡∏¢‡∏¥‡∏ö‡∏≠‡∏≠‡∏Å|pick|‡∏ñ‡∏≠‡∏î
                </p>
            </div>

            <!-- Help Box -->
            <div class="mt-4 p-3 bg-[#393a5a] rounded border border-[#b16cff]/10">
                <p class="text-[#b16cff] text-xs font-semibold mb-2">üí° ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ:</p>
                <ul class="text-[#8b8ba8] text-xs space-y-1">
                    <li>‚úì ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏≥‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ <span class="text-[#b16cff]">|</span> ‡πÄ‡∏ä‡πà‡∏ô: ‡πÄ‡∏û‡∏¥‡πà‡∏°|add|‡πÉ‡∏™‡πà|‡∏ã‡∏∑‡πâ‡∏≠</li>
                    <li>‚úì ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</li>
                    <li>‚úì ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</li>
                    <li>‚úì ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏≥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö action ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ</li>
                </ul>
            </div>
        </div>

        <!-- Closing Message -->
        <div class="bg-[#3a3d5c] rounded-lg p-6 border border-[#b16cff]/20">
            <h3 class="text-white font-semibold text-lg mb-4">‡∏Ñ‡∏≥‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢</h3>
            <div class="form-group">
                <label class="text-[#b16cff] font-medium mb-2 block">{{ form.closing_message.label }}</label>
                {{ form.closing_message }}
                <p class="text-[#8b8ba8] text-xs mt-2">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</p>
            </div>
        </div>

        <!-- Featured Items Section -->
        <div class="bg-[#3a3d5c] rounded-lg p-6 border border-[#b16cff]/20">
            <h3 class="text-white font-semibold text-lg mb-4">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (4 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)</h3>
            
            <!-- Featured Item 1 -->
            <div class="mb-4">
                <label class="text-[#b16cff] font-medium mb-2 block">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà 1</label>
                {{ form.featured_item_1 }}
                <p class="text-[#8b8ba8] text-xs mt-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 1</p>
            </div>

            <!-- Featured Item 2 -->
            <div class="mb-4">
                <label class="text-[#b16cff] font-medium mb-2 block">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà 2</label>
                {{ form.featured_item_2 }}
                <p class="text-[#8b8ba8] text-xs mt-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 2</p>
            </div>

            <!-- Featured Item 3 -->
            <div class="mb-4">
                <label class="text-[#b16cff] font-medium mb-2 block">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà 3</label>
                {{ form.featured_item_3 }}
                <p class="text-[#8b8ba8] text-xs mt-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 3</p>
            </div>
            <!-- Featured Item 4 -->
            <div class="mb-4">
                <label class="text-[#b16cff] font-medium mb-2 block">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà 4</label>
                {{ form.featured_item_4 }}
                <p class="text-[#8b8ba8] text-xs mt-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà 4</p>
            </div>
        </div>

        <!-- Submit Button -->
        <div class="flex gap-4">
            <button type="submit" class="px-8 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition">
                ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
            </button>
            <a href="{% url 'home' %}" class="px-8 py-3 bg-gray-600 hover:bg-gray-700 text-white font-bold rounded-lg transition">
                ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
            </a>
        </div>
    </form>

    <!-- Messages -->
    {% if messages %}
    <div class="mt-8">
        {% for message in messages %}
        <div class="p-4 rounded-lg bg-{% if message.tags %}{{ message.tags }}-500/20{% else %}blue-500/20{% endif %} border border-{% if message.tags %}{{ message.tags }}-500{% else %}blue-500{% endif %} mb-4">
            <p class="text-white">{{ message }}</p>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>

<!-- Toggle AI Modal -->
<div id="toggleAIModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-[#3a3d5c] rounded-lg p-8 border border-[#b16cff]/20 max-w-md w-full mx-4">
        <h3 class="text-white font-bold text-lg mb-4">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô Admin</h3>
        <p class="text-[#8b8ba8] mb-6">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô Admin ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡πÄ‡∏≠‡πÑ‡∏≠</p>
        
        <form method="post" action="{% url 'ai_toggle' %}" class="space-y-4">
            {% csrf_token %}
            
            <!-- Username -->
            <div>
                <label class="text-[#b16cff] font-medium block mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ Admin</label>
                <input type="text" name="admin_username" required 
                       class="w-full bg-[#393a5a] text-white border border-[#b16cff]/30 rounded px-4 py-2 focus:border-[#b16cff] focus:outline-none"
                       placeholder="admin username">
            </div>
            
            <!-- Password -->
            <div>
                <label class="text-[#b16cff] font-medium block mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô Admin</label>
                <input type="password" name="admin_password" required 
                       class="w-full bg-[#393a5a] text-white border border-[#b16cff]/30 rounded px-4 py-2 focus:border-[#b16cff] focus:outline-none"
                       placeholder="admin password">
            </div>
            
            <!-- Buttons -->
            <div class="flex gap-4 mt-6">
                <button type="submit" class="flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded transition">
                    ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
                </button>
                <button type="button" onclick="document.getElementById('toggleAIModal').classList.add('hidden')" 
                        class="flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-bold rounded transition">
                    ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
